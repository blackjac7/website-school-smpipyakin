# ==============================================================================
# ENVIRONMENT VARIABLES CONFIGURATION
# ==============================================================================
# This file serves as a template for your environment configuration.
#
# USAGE:
# 1. Local Development: Copy to `.env`
# 2. Production/Staging: Set these variables in your deployment platform (Vercel, Railway, etc.)
#
# IMPORTANT:
# - Do NOT commit `.env` to version control.
# - Ensure secrets (JWT, API Keys) are strong and unique for each environment.
# ==============================================================================

# =========================================
# 1. CORE CONFIGURATION (Required)
# =========================================

# Database Connection (Prisma)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# LOCAL DEV:
# You can use a local PostgreSQL instance.
# Example: postgresql://postgres:postgres@localhost:5432/school_db?schema=public
#
# PRODUCTION (Vercel/Neon/Supabase):
# Use the "Pooled" connection string (often port 6543) for DATABASE_URL to handle serverless connections.
DATABASE_URL="postgresql://postgres:password@localhost:5432/school_db_dev?schema=public"

# Direct Database Connection
# Required for migrations when using a connection pooler.
# If NOT using a pooler (e.g. Local), this is the same as DATABASE_URL.
# If using Neon/Supabase, this is the "Direct" connection string (port 5432).
DIRECT_URL="postgresql://postgres:password@localhost:5432/school_db_dev?schema=public"

# Node Environment
# Options: "development", "production", "test"
NODE_ENV="development"

# App Base URL
# Used for SEO canonical tags, OpenGraph images, and redirects.
# Local: http://localhost:3000
# Staging: https://staging.your-school.sch.id
# Prod: https://www.your-school.sch.id
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Authentication Secret
# Used to sign and verify JWT tokens.
# Run `openssl rand -base64 32` to generate a secure key.
JWT_SECRET="change_this_to_a_secure_random_string_min_32_chars"

# Cron Job Secret
# Secures /api/cron/* endpoints (Logs Cleanup, Maintenance Check).
# Run `openssl rand -hex 16` to generate.
CRON_SECRET="change_this_to_a_secure_random_string"


# =========================================
# 2. FILE STORAGE (Cloudinary) - Required
# =========================================
# Register at https://cloudinary.com/

# Main Cloudinary Credentials
# Used by Server Actions for general image management (News, etc.)
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="your_cloud_name"
CLOUDINARY_API_KEY="your_api_key"
CLOUDINARY_API_SECRET="your_api_secret"

# PPDB & Client Uploads
# Note: The codebase currently uses the PPDB preset for most client-side uploads
# (including Facilities/Extracurriculars in Admin Dashboard).
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME_PPDB="your_ppdb_cloud_name"
CLOUDINARY_API_KEY_PPDB="your_ppdb_api_key"
CLOUDINARY_API_SECRET_PPDB="your_ppdb_api_secret"
NEXT_PUBLIC_CLOUDINARY_UPLOAD_PRESET_PPDB="ppdb_uploads"


# =========================================
# 3. EXTERNAL SERVICES (Feature-based)
# =========================================

# EmailJS (Contact Form)
# Used to send emails directly from the frontend Contact form.
# Register at https://www.emailjs.com/
NEXT_PUBLIC_EMAILJS_SERVICE_ID="your_service_id"
NEXT_PUBLIC_EMAILJS_TEMPLATE_ID="your_template_id"
NEXT_PUBLIC_EMAILJS_PUBLIC_KEY="your_public_key"
# EMAILJS_PRIVATE_KEY="optional_private_key" # Defined in validation schema but currently unused in code.

# Cloudflare R2 (Document Storage)
# Used for PPDB document uploads and other file storage.
R2_ACCOUNT_ID="your_cf_account_id"
R2_ACCESS_KEY_ID="your_r2_access_key"
R2_SECRET_ACCESS_KEY="your_r2_secret_key"
R2_BUCKET_NAME="your_bucket_name"
R2_PUBLIC_URL="https://pub-xxx.r2.dev"

# Flowise AI (Chatbot) - Optional
# Used in the frontend script for the AI assistant.
NEXT_PUBLIC_FLOWISE_API_URL="https://your-flowise-instance.com"
NEXT_PUBLIC_FLOWISE_CHATFLOW_ID="your_chatflow_uuid"


# =========================================
# 4. ANALYTICS & MONITORING
# =========================================

# Vercel Speed Insights
# Set to "1" to enable Speed Insights in the Layout.
NEXT_PUBLIC_VERCEL_SPEED_INSIGHTS="1"


# =========================================
# 5. TUNING & LIMITS
# =========================================

# Maximum file upload size in bytes (Default: 5MB)
# Used in /api/upload endpoint.
MAX_FILE_SIZE="5242880"
